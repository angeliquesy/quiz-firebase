{"ast":null,"code":"import _toConsumableArray from \"D:\\\\work\\\\git\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\work\\\\git\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\git\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\work\\\\git\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:\\\\work\\\\git\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\work\\\\git\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\work\\\\git\\\\react\\\\src\\\\App.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport './App.css';\nimport Car from './Car/Car';\nimport ErrorBoundary from './ErrorBoundary/ErrorBoundary';\nimport Counter from \"./Counter/Counter\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props); // т.к Component имеет свои пропс, нужно их наследовать\n\n    _this.onChangeName = function (name, index) {\n      var car = _this.state.cars[index];\n      car.name = name;\n\n      var cars = _toConsumableArray(_this.state.cars); // const cars = this.state.cars.concat() // клонирование массива - старый способ\n\n\n      cars[index] = car;\n\n      _this.setState({\n        cars: cars\n      }); // = cars: cars\n      // когда меняем состояние, должны создавать клон и новый стейт, т.к. не можем напрямую менять состояние\n\n    };\n\n    _this.toggleCarsHandler = function () {\n      _this.setState({\n        showCars: !_this.state.showCars\n      });\n    };\n\n    _this.state = {\n      cars: [{\n        name: 'Ford',\n        year: 2018\n      }, {\n        name: 'Audi',\n        year: 2016\n      }, {\n        name: 'Mazda',\n        year: 2010\n      }],\n      pageTitle: 'React components',\n      showCars: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"deleteHandler\",\n    value: function deleteHandler(index) {\n      var cars = this.state.cars.concat();\n      cars.splice(index, 1);\n      this.setState({\n        cars: cars\n      });\n    }\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      console.log('App componentWillMount');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log('App componentDidMount');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('App render');\n      var divStyle = {\n        textAlign: 'center'\n      };\n      var cars = null;\n\n      if (this.state.showCars) {\n        cars = this.state.cars.map(function (car, index) {\n          return /*#__PURE__*/React.createElement(ErrorBoundary, {\n            key: index,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(Car, {\n            name: car.name,\n            year: car.year,\n            \"index-\": true,\n            onDelete: _this2.deleteHandler.bind(_this2, index),\n            onChangeName: function onChangeName(event) {\n              return _this2.onChangeName(event.target.value, index);\n            } // лучший способ (оптимизация): onChangeTitle={this.changeTitleHandler.bind(this, car.name)}\n            ,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }\n          }));\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        style: divStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, this.state.pageTitle), /*#__PURE__*/React.createElement(Counter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.toggleCarsHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, \"ToggleCars\"), cars);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["D:/work/git/react/src/App.js"],"names":["React","Component","Car","ErrorBoundary","Counter","App","props","onChangeName","name","index","car","state","cars","setState","toggleCarsHandler","showCars","year","pageTitle","concat","splice","console","log","divStyle","textAlign","map","deleteHandler","bind","event","target","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport Car from './Car/Car'\nimport ErrorBoundary from './ErrorBoundary/ErrorBoundary';\nimport Counter from \"./Counter/Counter\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props) // т.к Component имеет свои пропс, нужно их наследовать\n\n    this.state = {\n      cars: [\n        {\n          name: 'Ford',\n          year: 2018\n        },\n        {\n          name: 'Audi',\n          year: 2016\n        },\n        {\n          name: 'Mazda',\n          year: 2010\n        },\n      ],\n      pageTitle: 'React components',\n      showCars: false\n    }\n  }\n\n  onChangeName = (name, index) => {\n    const car = this.state.cars[index]\n    car.name = name\n    const cars = [...this.state.cars]\n    // const cars = this.state.cars.concat() // клонирование массива - старый способ\n    cars[index] = car\n    this.setState({cars}) // = cars: cars\n\n    // когда меняем состояние, должны создавать клон и новый стейт, т.к. не можем напрямую менять состояние\n  }\n\n  toggleCarsHandler = () => {\n    this.setState({\n      showCars: !this.state.showCars\n    })\n  }\n\n  deleteHandler(index) {\n    const cars = this.state.cars.concat()\n    cars.splice(index, 1)\n\n    this.setState({cars})\n  }\n\n  UNSAFE_componentWillMount() {\n    console.log('App componentWillMount')\n  }\n\n  componentDidMount() {\n    console.log('App componentDidMount')\n  }\n\n  render() {\n    console.log('App render')\n\n    const divStyle = {\n      textAlign: 'center',\n    }\n\n    let cars = null\n\n    if (this.state.showCars) {\n      cars = this.state.cars.map((car, index) => {\n        return (\n          <ErrorBoundary key={index}>\n            <Car\n              name={car.name}\n              year={car.year}\n              index-\n              onDelete={this.deleteHandler.bind(this, index)}\n              onChangeName={event => this.onChangeName(event.target.value, index)}\n              // лучший способ (оптимизация): onChangeTitle={this.changeTitleHandler.bind(this, car.name)}\n            />\n          </ErrorBoundary>\n        )\n      })\n    }\n\n    return (\n      <div className='App' style={divStyle}>\n        <h1>{this.state.pageTitle}</h1>\n\n        <Counter/>\n\n        <hr/>\n\n        <button onClick={this.toggleCarsHandler}>\n          ToggleCars\n        </button>\n\n        {cars}\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}